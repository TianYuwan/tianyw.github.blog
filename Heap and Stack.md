# Java 中堆和栈的区别
* Java所用的空间分为两种：堆空间和栈空间
* 操作系统调度角度：栈由系统程序分配，空间分配方式类似数据结构的栈；堆由用户程序分配，空间分配方式类似数据结构中的链表。
* 体系结构角度：栈分配的空间在一级缓存，调用时在缓存中，调用完立即释放；堆分配的空间在二级缓存，释放方式由java垃圾回收算法控制；
* 数据结构角度：栈是一种先进后出的数据结构；堆是一种完全二叉树结构，高度为O(lg n)
* 功能和用途：栈内存用于为函数中定义的基本类型变量和对象引用变量分配空间；堆内存用于存放由new创建的对象和数组；
* 编译原理中存储分配方式中有静态分配，栈式存储分配和堆式存储分配；栈式和堆式都属于动态存储分配，区别是栈式分配在程序执行到函数入口处必须知道所需分配空间大小；而堆式分配则不需要预先知道所需空间大小，也不需要所需分配空间的生存周期，而是运行过程中动态分配；相比之下，静态存储分配则在编译预处理阶段就要确定出所需空间大小。栈式和堆式存储分配指的是在编译过程中对内存空间分配的方式，属于编译过程中的堆栈，有别于系统结构中的堆栈；
* JVM中的堆栈：JVM是基于堆栈操作的，


